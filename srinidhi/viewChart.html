{% load custom_filters %}
<style>
    #chart, #chart2 {
        position: relative;
        margin-top: 15px;
    }

    #legend, #legend2 {
        font-size: 12px;
        max-height: 100px;
{#        overflow-y: scroll;#}
        margin-top: 15px;
        display: none;
    }

    rect {
        stroke-width: 2;
    }

    #tooltip, #tooltip2 {
        opacity: 0;
        position: absolute;
        width: auto;
        height: auto;
        padding: 10px;
        background-color: white;
        border-radius: 10px;
        -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        -mox-box-shadow: 4px 4px 4px 10px rgba(0, 0, 0, 0.4);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4) pointer-events : none;
    }

    #table_div, #table_div2, #table_div3{
        margin-top: 15px;
    }

    span{
        font-size: 12px;
    }

    tr:nth-child(n):hover td {
          background: #eee;
        }

    #table-wrapper {
        position: relative;

    }

    #table-scroll {
        height: 500px;
        overflow-y: scroll;
        margin-top: 20px;

    }

    #table-wrapper table {
        width: 100%;
    }

    #table-wrapper tr th, #table-wrapper tr td{
        font-size: 12px;
    }


    #table-wrapper table thead th .text {
        position: absolute;
        top: -20px;
        z-index: 2;
        height: 20px;
        width: 35%;
        border: 1px solid red;
    }


</style>
<script type="text/ng-template" id="viewChart.html">

    <a href="#" style="font-size: medium!important;" ng-click="taskCustomer()">Employee Email</a>{$ "  |  "$}
    <a href="#" style="font-size: medium!important;" ng-click="customer11()">Customer</a>{$ "  |  "$}
    <a href="#" style="font-size: medium!important;" ng-click="activityName()">Task</a>{$ "   "$}


    <div  ng-show="employeeEmailCustomer">


        <div class="row" style="margin-top: 3%;">
            <div class="columns large-4 medium-4 small-4">
                <select name="empEmail" id="empEmail" ng-model="empEmail" ng-options="employeEmail for employeEmail in employeeEmails | orderBy:employeEmail : false ">
                    <option value="">Select Employee Email</option>
                </select>
            </div>

            <div class="columns large-2 medium-2 small-2">
                <select name="projectName" id="projectName" ng-model="projectName" ng-change="getTaskName()" ng-init="projectName = projects[0]" ng-options="projectName for projectName in projects">
                    <option value="">Select Project Name</option>
                </select>
            </div>

            <div class="columns large-2 medium-2 small-2">
                <input type="date" name="fromDate" ng-model="fromDate" value="{$ defaultDate $}" max="{$ maxDate $}">
            </div>

            <div class="columns large-2 medium-2 small-2">
                <input type="date" name="toDate" id="toDate" ng-model="toDate" value="{$ defaultDate $}" max="{$ maxDate $}">
            </div>

            <div class="columns large-1 medium-1 small-1">
                <input type="button" class="sm-btn blue" ng-click="filterByEmployeeEmail()" value="CHART">
            </div>
            <div class="columns large-1 medium-1 small-1">
                <input type="button" class="sm-btn blue" ng-click="getEmployeeTableData()" value="TABLE">
            </div>
        </div>


        <div ng-show="isTableView" ng-repeat="element in chartDatad3" class="row">
            <div id="tooltip"></div>
            <div class="columns large-4">
                <pie-chart data="element"></pie-chart>
                <div id="legend"></div>
            </div>
            <div class="columns large-8 right">
                <div class="msg_div">
                <div id="chart"></div>
                    <span>(Click to view details)</span>
                </div>
                <div id="table_div"></div>
            </div>
        </div>

    </div>


    <div ng-show="customerDiv">
        <div class="row" style="margin-top: 3%;">
            <div class="columns large-6 medium-6 small-6">
                <select name="customerId" id="customerId" ng-model="customerId" ng-options="customerId for customerId in customerIdList">
                    <option value="">Select Customer Id</option>
                </select>
            </div>

            <div class="columns large-2 medium-2 small-2">
                <input type="date" name="fromDate" ng-model="fromDate" value="{$ defaultDate $}" max="{$ maxDate $}">
            </div>

            <div class="columns large-2 medium-2 small-2">
                <input type="date" name="toDate" id="toDate" ng-model="toDate" value="{$ defaultDate $}" max="{$ maxDate $}">
            </div>


            <div class="columns large-1 medium-1 small-1 ">
                <input type="button" class="sm-btn blue" ng-click="filterByCustomerId()" value="CHART">

            </div>
            <div class="columns large-1 medium-1 small-1 ">

                <input type="button" class="sm-btn blue" ng-click="customerTableView()" value="TABLE">
            </div>
        </div>

        <div ng-show="isTableView" ng-repeat="element in chartDatad3" class="row">
            <div id="tooltip2"></div>
            <div class="columns large-4">
                <pie-chart2 data="element"></pie-chart2>
                <div id="legend2"></div>
            </div>
            <div class="columns large-8 right">
                <div class="msg_div">
                    <div id="chart2"></div>
                    <span>(Click to view details)</span>
                </div>
                <div id="table_div2"></div>
            </div>
        </div>

    </div>
    {% include 'staffTimeManagement/employeeTables.html' %}

<div  ng-show="activityDiv">
        <div class="row" style="margin-top: 3%;">
            <div class="columns large-4 medium-4 small-4">
                <select name="activity" id="activity" ng-model="activity" ng-options="activity for activity in activityList">
                    <option value="">Select Activity</option>
                </select>
            </div>

            <div class="columns large-2 medium-2 small-2">
                <input type="date" name="fromDate" ng-model="fromDate" value="{$ defaultDate $}" max="{$ maxDate $}">
            </div>

            <div class="columns large-2 medium-2 small-2">
                <input type="date" name="toDate" id="toDate" ng-model="toDate" value="{$ defaultDate $}" max="{$ maxDate $}">
            </div>


            <div class="columns large-2 medium-2 small-2 left">
                <input type="button" class="sm-btn blue" ng-click="filterByActivity()" value="FILTER">
            </div>
        </div>

        <div ng-repeat="element in chartDatad3" class="row">
            <div class="columns large-6 medium-6 small-6">
                <pie-chart3 data="element">
                    <div id="table_div3"></div>
                </pie-chart3>
            </div>
            <div class="columns large-6 medium-6 small-6">
                <span>(Click on Employee email to view details)</span>
                <div id="table_div4"></div>
            </div>
        </div>

    </div>


</script>